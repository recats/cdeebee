!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@babel/runtime/helpers/objectWithoutProperties"),require("@babel/runtime/helpers/objectSpread"),require("@babel/runtime/helpers/asyncToGenerator"),require("@babel/runtime/helpers/defineProperty")):"function"==typeof define&&define.amd?define(["exports","@babel/runtime/helpers/objectWithoutProperties","@babel/runtime/helpers/objectSpread","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/helpers/defineProperty"],t):t(e.cdeebee={},e._objectWithoutProperties,e._objectSpread,e._asyncToGenerator,e._defineProperty)}(this,function(e,t,r,n,o){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,o=o&&o.hasOwnProperty("default")?o.default:o;var i=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var a=function(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]};var u=function(e){return function t(r){return 0===arguments.length||a(r)?t:e.apply(this,arguments)}};var s=function(e){return function t(r,n){switch(arguments.length){case 0:return t;case 1:return a(r)?t:u(function(t){return e(r,t)});default:return a(r)&&a(n)?t:a(r)?u(function(t){return e(t,n)}):a(n)?u(function(t){return e(r,t)}):e(r,n)}}};var c=function(e){return function t(r,n,o){switch(arguments.length){case 0:return t;case 1:return a(r)?t:s(function(t,n){return e(r,t,n)});case 2:return a(r)&&a(n)?t:a(r)?s(function(t,r){return e(t,n,r)}):a(n)?s(function(t,n){return e(r,t,n)}):u(function(t){return e(r,n,t)});default:return a(r)&&a(n)&&a(o)?t:a(r)&&a(n)?s(function(t,r){return e(t,r,o)}):a(r)&&a(o)?s(function(t,r){return e(t,n,r)}):a(n)&&a(o)?s(function(t,n){return e(r,t,n)}):a(r)?u(function(t){return e(t,n,o)}):a(n)?u(function(t){return e(r,t,o)}):a(o)?u(function(t){return e(r,n,t)}):e(r,n,o)}}},f=c(function(e,t){return function(){var r=arguments.length;if(0===r)return t();var n=arguments[r-1];return i(n)||"function"!=typeof n[e]?t.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}("slice",function(e,t,r){return Array.prototype.slice.call(r,e,t)})),l=s(function(e,t){for(var r={},n={},o=0,i=e.length;o<i;)n[e[o]]=1,o+=1;for(var a in t)n.hasOwnProperty(a)||(r[a]=t[a]);return r});var p=function(e,t){return Object.prototype.hasOwnProperty.call(t,e)},d=Number.isInteger||function(e){return e<<0===e},h=c(function(e,t,r){var n={};for(var o in r)n[o]=r[o];return n[e]=t,n}),y=u(function(e){return null==e}),E=c(function e(t,r,n){if(0===t.length)return r;var o=t[0];if(t.length>1){var a=!y(n)&&p(o,n)?n[o]:d(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,a)}if(d(o)&&i(n)){var u=[].concat(n);return u[o]=r,u}return h(o,r,n)});var v=function(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))},g=u(function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)});var m=function e(t,r,n,o){var i=function(i){for(var a=r.length,u=0;u<a;){if(t===r[u])return n[u];u+=1}for(var s in r[u+1]=t,n[u+1]=i,t)i[s]=o?e(t[s],r,n,!0):t[s];return i};switch(g(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return v(t);default:return t}},_=u(function(e){return null!=e&&"function"==typeof e.clone?e.clone():m(e,[],[],!0)}),b="object"==typeof global&&global&&global.Object===Object&&global,w="object"==typeof self&&self&&self.Object===Object&&self,R=b||w||Function("return this")(),S=R.Symbol,T=Object.prototype,C=T.hasOwnProperty,A=T.toString,D=S?S.toStringTag:void 0;var O=function(e){var t=C.call(e,D),r=e[D];try{e[D]=void 0}catch(e){}var n=A.call(e);return t?e[D]=r:delete e[D],n},j=Object.prototype.toString;var N=function(e){return j.call(e)},q="[object Null]",B="[object Undefined]",I=S?S.toStringTag:void 0;var L=function(e){return null==e?void 0===e?B:q:I&&I in Object(e)?O(e):N(e)};var P=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},U="[object AsyncFunction]",x="[object Function]",F="[object GeneratorFunction]",M="[object Proxy]";var k,H=function(e){if(!P(e))return!1;var t=L(e);return t==x||t==F||t==U||t==M},z=R["__core-js_shared__"],$=(k=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";var G=function(e){return!!$&&$ in e},K=Function.prototype.toString;var Y=function(e){if(null!=e){try{return K.call(e)}catch(e){}try{return e+""}catch(e){}}return""},V=/^\[object .+?Constructor\]$/,Q=Function.prototype,X=Object.prototype,J=Q.toString,W=X.hasOwnProperty,Z=RegExp("^"+J.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ee=function(e){return!(!P(e)||G(e))&&(H(e)?Z:V).test(Y(e))};var te=function(e,t){return null==e?void 0:e[t]};var re=function(e,t){var r=te(e,t);return ee(r)?r:void 0},ne=function(){try{var e=re(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var oe=function(e,t,r){"__proto__"==t&&ne?ne(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var ie=function(e,t){return e===t||e!=e&&t!=t},ae=Object.prototype.hasOwnProperty;var ue=function(e,t,r){var n=e[t];ae.call(e,t)&&ie(n,r)&&(void 0!==r||t in e)||oe(e,t,r)},se=Array.isArray;var ce=function(e){return null!=e&&"object"==typeof e},fe="[object Symbol]";var le=function(e){return"symbol"==typeof e||ce(e)&&L(e)==fe},pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,de=/^\w*$/;var he=function(e,t){if(se(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!le(e))||de.test(e)||!pe.test(e)||null!=t&&e in Object(t)},ye=re(Object,"create");var Ee=function(){this.__data__=ye?ye(null):{},this.size=0};var ve=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge="__lodash_hash_undefined__",me=Object.prototype.hasOwnProperty;var _e=function(e){var t=this.__data__;if(ye){var r=t[e];return r===ge?void 0:r}return me.call(t,e)?t[e]:void 0},be=Object.prototype.hasOwnProperty;var we=function(e){var t=this.__data__;return ye?void 0!==t[e]:be.call(t,e)},Re="__lodash_hash_undefined__";var Se=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ye&&void 0===t?Re:t,this};function Te(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Te.prototype.clear=Ee,Te.prototype.delete=ve,Te.prototype.get=_e,Te.prototype.has=we,Te.prototype.set=Se;var Ce=Te;var Ae=function(){this.__data__=[],this.size=0};var De=function(e,t){for(var r=e.length;r--;)if(ie(e[r][0],t))return r;return-1},Oe=Array.prototype.splice;var je=function(e){var t=this.__data__,r=De(t,e);return!(r<0||(r==t.length-1?t.pop():Oe.call(t,r,1),--this.size,0))};var Ne=function(e){var t=this.__data__,r=De(t,e);return r<0?void 0:t[r][1]};var qe=function(e){return De(this.__data__,e)>-1};var Be=function(e,t){var r=this.__data__,n=De(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Ie(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ie.prototype.clear=Ae,Ie.prototype.delete=je,Ie.prototype.get=Ne,Ie.prototype.has=qe,Ie.prototype.set=Be;var Le=Ie,Pe=re(R,"Map");var Ue=function(){this.size=0,this.__data__={hash:new Ce,map:new(Pe||Le),string:new Ce}};var xe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Fe=function(e,t){var r=e.__data__;return xe(t)?r["string"==typeof t?"string":"hash"]:r.map};var Me=function(e){var t=Fe(this,e).delete(e);return this.size-=t?1:0,t};var ke=function(e){return Fe(this,e).get(e)};var He=function(e){return Fe(this,e).has(e)};var ze=function(e,t){var r=Fe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function $e(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$e.prototype.clear=Ue,$e.prototype.delete=Me,$e.prototype.get=ke,$e.prototype.has=He,$e.prototype.set=ze;var Ge=$e,Ke="Expected a function";function Ye(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(Ke);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Ye.Cache||Ge),r}Ye.Cache=Ge;var Ve=Ye,Qe=500;var Xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Je=/\\(\\)?/g,We=function(e){var t=Ve(e,function(e){return r.size===Qe&&r.clear(),e}),r=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Xe,function(e,r,n,o){t.push(n?o.replace(Je,"$1"):r||e)}),t});var Ze=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o},et=1/0,tt=S?S.prototype:void 0,rt=tt?tt.toString:void 0;var nt=function e(t){if("string"==typeof t)return t;if(se(t))return Ze(t,e)+"";if(le(t))return rt?rt.call(t):"";var r=t+"";return"0"==r&&1/t==-et?"-0":r};var ot=function(e){return null==e?"":nt(e)};var it=function(e,t){return se(e)?e:he(e,t)?[e]:We(ot(e))},at=9007199254740991,ut=/^(?:0|[1-9]\d*)$/;var st=function(e,t){var r=typeof e;return!!(t=null==t?at:t)&&("number"==r||"symbol"!=r&&ut.test(e))&&e>-1&&e%1==0&&e<t},ct=1/0;var ft=function(e){if("string"==typeof e||le(e))return e;var t=e+"";return"0"==t&&1/e==-ct?"-0":t};var lt=function(e,t,r,n){if(!P(e))return e;for(var o=-1,i=(t=it(t,e)).length,a=i-1,u=e;null!=u&&++o<i;){var s=ft(t[o]),c=r;if(o!=a){var f=u[s];void 0===(c=n?n(f,s,u):void 0)&&(c=P(f)?f:st(t[o+1])?[]:{})}ue(u,s,c),u=u[s]}return e};var pt=function(e,t,r){return null==e?e:lt(e,t,r)};const dt={CDEEBEE_REQUESTMANAGER_SHIFT:"@@cdeebee/REQUESTMANAGER_SHIFT",CDEEBEE_REQUESTMANAGER_SET:"@@cdeebee/REQUESTMANAGER_SET",CDEEBEE_ERRORHANDLER_SET:"@@cdeebee/ERRORHANDLER_SET",CDEEBEE_ENTITY_CHANGE_FIELD:"@@cdeebee/ENTITY_CHANGE_FIELD",CDEEBEE_RESET_ENTITY:"@@cdeebee/RESET_ENTITY",CDEEBEE_SET_ENTITY:"@@cdeebee/SET_ENTITY",CDEEBEEE_UPDATE:"@@cdeebee/UPDATE",CDEEBEEE_DROP:"@@cdeebee/DROP",CDEEBEEE_DROP_ELEMENT:"@@cdeebee/DROP_ELEMENT",CHANGE_ROUTE:"@@router/LOCATION_CHANGE"},ht="NEW",yt="EDITING",Et="NORMAL",vt={merge:"merge",replace:"replace"};var gt=function(e){return"[object Object]"===Object.prototype.toString.call(e)},mt=c(function(e,t,r){var n,o={};for(n in t)p(n,t)&&(o[n]=p(n,r)?e(n,t[n],r[n]):t[n]);for(n in r)p(n,r)&&!p(n,o)&&(o[n]=r[n]);return o}),_t=c(function e(t,r,n){return mt(function(r,n,o){return gt(n)&&gt(o)?e(t,n,o):t(r,n,o)},r,n)}),bt=s(function(e,t){return _t(function(e,t,r){return r},e,t)}),wt=Tt;const Rt=e=>l(["__entity","__state"],e),St=e=>{return{activeRequest:e.filter(e=>e.requestCancel&&e.source&&e.source.cancel instanceof Function&&e.source.cancel(e))}};function Tt(e,t){if(!t||0===e.length)return!1;const r=t instanceof Array?t:[t],n=e.map(e=>e.api);for(let e=0;e<r.length;e+=1)if(n.includes(r[e]))return!0;return!1}const Ct=e=>e.__entity||e,At=e=>e.__entity?e.__entity.__state:Et,Dt=e=>{return At(e)===Et?(console.warn("reset works only in editing and new states"),e):Rt(e)},Ot=e=>{if(At(e)===yt)return e;const t=_(e);return t.__entity=_(e),t.__entity.__state=yt,t},jt=e=>{let r=e.response,n=(r.responseStatus,t(r,["responseStatus"])),o=e.cdeebee,i=e.mergeStrategy;const a=Object.keys(n);for(var u=0;u<a.length;u++){const e=a[u],t={};if(n[e]instanceof Object){var s=!0,c=!1,f=void 0;try{for(var p,d=n[e].data[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){const r=p.value;t[r[n[e].primaryKey]]=r}}catch(e){c=!0,f=e}finally{try{s||null==d.return||d.return()}finally{if(c)throw f}}i===vt.merge?n[e]=bt(o[e],t):i===vt.replace&&(n[e]=t)}else null!==n[e]&&void 0!==n[e]||(n=l([e],n))}return n};var Nt=Object.freeze({cancelationRequest:St,get checkNetworkActivity(){return wt},getSubEntity:Ct,getEntityState:At,insertEntity:e=>(e.__state=ht,e),commitEntity:e=>{return At(e)===Et?(console.warn("commit works only in editing and new states"),e):Rt(e)},resetEntity:Dt,editEntity:Ot,defaultNormalize:jt,rewire$checkNetworkActivity:function(e){wt=e},restore:function(){wt=Tt}});const qt={},Bt={activeRequest:[],requestByApiUrl:{},errorHandler:{}};var It=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}};function Lt(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var Pt=Object.prototype.toString;function Ut(e){return"[object Array]"===Pt.call(e)}function xt(e){return null!==e&&"object"==typeof e}function Ft(e){return"[object Function]"===Pt.call(e)}function Mt(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),Ut(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var kt={isArray:Ut,isArrayBuffer:function(e){return"[object ArrayBuffer]"===Pt.call(e)},isBuffer:function(e){return null!=e&&(Lt(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Lt(e.slice(0,0))}(e)||!!e._isBuffer)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:xt,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===Pt.call(e)},isFile:function(e){return"[object File]"===Pt.call(e)},isBlob:function(e){return"[object Blob]"===Pt.call(e)},isFunction:Ft,isStream:function(e){return xt(e)&&Ft(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:Mt,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)Mt(arguments[n],r);return t},extend:function(e,t,r){return Mt(t,function(t,n){e[n]=r&&"function"==typeof t?It(t,r):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}},Ht=function(e,t,r,n,o){return function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}(new Error(e),t,r,n,o)};function zt(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var $t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],Gt=kt.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=kt.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},Kt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Yt(){this.message="String contains an invalid character"}Yt.prototype=new Error,Yt.prototype.code=5,Yt.prototype.name="InvalidCharacterError";var Vt=function(e){for(var t,r,n=String(e),o="",i=0,a=Kt;n.charAt(0|i)||(a="=",i%1);o+=a.charAt(63&t>>8-i%1*8)){if((r=n.charCodeAt(i+=.75))>255)throw new Yt;t=t<<8|r}return o},Qt=kt.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),kt.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),kt.isString(n)&&a.push("path="+n),kt.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},Xt="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||Vt,Jt=function(e){return new Promise(function(t,r){var n=e.data,o=e.headers;kt.isFormData(n)&&delete o["Content-Type"];var i=new XMLHttpRequest,a="onreadystatechange",u=!1;if("test"===process.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in i||Gt(e.url)||(i=new window.XDomainRequest,a="onload",u=!0,i.onprogress=function(){},i.ontimeout=function(){}),e.auth){var s=e.auth.username||"",c=e.auth.password||"";o.Authorization="Basic "+Xt(s+":"+c)}if(i.open(e.method.toUpperCase(),function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(kt.isURLSearchParams(t))n=t.toString();else{var o=[];kt.forEach(t,function(e,t){null!=e&&(kt.isArray(e)?t+="[]":e=[e],kt.forEach(e,function(e){kt.isDate(e)?e=e.toISOString():kt.isObject(e)&&(e=JSON.stringify(e)),o.push(zt(t)+"="+zt(e))}))}),n=o.join("&")}return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e}(e.url,e.params,e.paramsSerializer),!0),i.timeout=e.timeout,i[a]=function(){if(i&&(4===i.readyState||u)&&(0!==i.status||i.responseURL&&0===i.responseURL.indexOf("file:"))){var n,o,a,s,c,f="getAllResponseHeaders"in i?(n=i.getAllResponseHeaders(),c={},n?(kt.forEach(n.split("\n"),function(e){if(s=e.indexOf(":"),o=kt.trim(e.substr(0,s)).toLowerCase(),a=kt.trim(e.substr(s+1)),o){if(c[o]&&$t.indexOf(o)>=0)return;c[o]="set-cookie"===o?(c[o]?c[o]:[]).concat([a]):c[o]?c[o]+", "+a:a}}),c):c):null,l={data:e.responseType&&"text"!==e.responseType?i.response:i.responseText,status:1223===i.status?204:i.status,statusText:1223===i.status?"No Content":i.statusText,headers:f,config:e,request:i};!function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(Ht("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}(t,r,l),i=null}},i.onerror=function(){r(Ht("Network Error",e,null,i)),i=null},i.ontimeout=function(){r(Ht("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",i)),i=null},kt.isStandardBrowserEnv()){var f=Qt,l=(e.withCredentials||Gt(e.url))&&e.xsrfCookieName?f.read(e.xsrfCookieName):void 0;l&&(o[e.xsrfHeaderName]=l)}if("setRequestHeader"in i&&kt.forEach(o,function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:i.setRequestHeader(t,e)}),e.withCredentials&&(i.withCredentials=!0),e.responseType)try{i.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&i.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&i.upload&&i.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){i&&(i.abort(),r(e),i=null)}),void 0===n&&(n=null),i.send(n)})},Wt={"Content-Type":"application/x-www-form-urlencoded"};function Zt(e,t){!kt.isUndefined(e)&&kt.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var er,tr={adapter:("undefined"!=typeof XMLHttpRequest?er=Jt:"undefined"!=typeof process&&(er=Jt),er),transformRequest:[function(e,t){return function(e,t){kt.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}(t,"Content-Type"),kt.isFormData(e)||kt.isArrayBuffer(e)||kt.isBuffer(e)||kt.isStream(e)||kt.isFile(e)||kt.isBlob(e)?e:kt.isArrayBufferView(e)?e.buffer:kt.isURLSearchParams(e)?(Zt(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):kt.isObject(e)?(Zt(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};tr.headers={common:{Accept:"application/json, text/plain, */*"}},kt.forEach(["delete","get","head"],function(e){tr.headers[e]={}}),kt.forEach(["post","put","patch"],function(e){tr.headers[e]=kt.merge(Wt)});var rr=tr;function nr(){this.handlers=[]}nr.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},nr.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},nr.prototype.forEach=function(e){kt.forEach(this.handlers,function(t){null!==t&&e(t)})};var or=nr,ir=function(e,t,r){return kt.forEach(r,function(r){e=r(e,t)}),e},ar=function(e){return!(!e||!e.__CANCEL__)};function ur(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var sr=function(e){var t,r,n;return ur(e),e.baseURL&&(n=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(n))&&(e.url=(t=e.baseURL,(r=e.url)?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=ir(e.data,e.headers,e.transformRequest),e.headers=kt.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),kt.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||rr.adapter)(e).then(function(t){return ur(e),t.data=ir(t.data,t.headers,e.transformResponse),t},function(t){return ar(t)||(ur(e),t&&t.response&&(t.response.data=ir(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})};function cr(e){this.defaults=e,this.interceptors={request:new or,response:new or}}cr.prototype.request=function(e){"string"==typeof e&&(e=kt.merge({url:arguments[0]},arguments[1])),(e=kt.merge(rr,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[sr,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},kt.forEach(["delete","get","head","options"],function(e){cr.prototype[e]=function(t,r){return this.request(kt.merge(r||{},{method:e,url:t}))}}),kt.forEach(["post","put","patch"],function(e){cr.prototype[e]=function(t,r,n){return this.request(kt.merge(n||{},{method:e,url:t,data:r}))}});var fr=cr;function lr(e){this.message=e}lr.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},lr.prototype.__CANCEL__=!0;var pr=lr;function dr(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new pr(e),t(r.reason))})}dr.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},dr.source=function(){var e;return{token:new dr(function(t){e=t}),cancel:e}};var hr=dr;function yr(e){var t=new fr(e),r=It(fr.prototype.request,t);return kt.extend(r,fr.prototype,t),kt.extend(r,t),r}var Er=yr(rr);Er.Axios=fr,Er.create=function(e){return yr(kt.merge(rr,e))},Er.Cancel=pr,Er.CancelToken=hr,Er.isCancel=ar,Er.all=function(e){return Promise.all(e)},Er.spread=function(e){return function(t){return e.apply(null,t)}};var vr=Er,gr=Er;vr.default=gr;var mr=vr;var _r=function(e,t){for(var r=0,n=(t=it(t,e)).length;null!=e&&r<n;)e=e[ft(t[r++])];return r&&r==n?e:void 0};var br=function(e,t,r){var n=null==e?void 0:_r(e,t);return void 0===n?r:n};if("production"!==process.env.NODE_ENV&&("undefined"==typeof self||!self.crypto&&!self.msCrypto))throw new Error("Your browser does not have secure random generator. If you don’t need unpredictable IDs, you can use nanoid/non-secure.");var wr=self.crypto||self.msCrypto;let Rr={};var Sr=Dr,Tr=Or,Cr=jr,Ar=Nr;function Dr(e,t,r,n){return(o,i)=>{n&&n.preChange&&n.preChange({entityList:e,entityID:t,list:r,dispatch:o,getState:i}),o({type:dt.CDEEBEE_ENTITY_CHANGE_FIELD,payload:{entityList:e,entityID:t,list:r}}),n&&n.postChange&&n.postChange({entityList:e,entityID:t,list:r,dispatch:o,getState:i})}}function Or(e,t,r,n,o){return Sr(e,t,[{key:r,value:n}],o)}function jr(e,t,r,n){return(o,i)=>{n&&n.preCommit&&n.preCommit({entityList:e,entityID:t,entity:r,dispatch:o,getState:i}),o({type:dt.CDEEBEE_SET_ENTITY,payload:{entityList:e,entityID:t,entity:r}}),n&&n.postCommit&&n.postCommit({entityList:e,entityID:t,entity:r,dispatch:o,getState:i})}}function Nr(e,t,r){return(n,o)=>{r&&r.preCommit&&r.preCommit({entityList:e,entityID:t,dispatch:n,getState:o}),n({type:dt.CDEEBEE_RESET_ENTITY,payload:{entityList:e,entityID:t}}),r&&r.postCommit&&r.postCommit({entityList:e,entityID:t,dispatch:n,getState:o})}}var qr=Object.freeze({get setKeyValueList(){return Sr},get setKeyValue(){return Tr},get commitEntity(){return Cr},get resetEntity(){return Ar},rewire$setKeyValueList:function(e){Sr=e},rewire$setKeyValue:function(e){Tr=e},rewire$commitEntity:function(e){Cr=e},rewire$resetEntity:function(e){Ar=e},restore:function(){Sr=Dr,Tr=Or,Cr=jr,Ar=Nr}});e.helpers=Nt,e.cdeebee=((e=qt,t)=>{const n=t.type,o=t.payload;switch(n){case dt.CDEEBEEE_UPDATE:return r({},e,o.response);case dt.CDEEBEE_ENTITY_CHANGE_FIELD:{const t=e[o.entityList],r=Ot(t[o.entityID]),n=_(Ct(r));return o.list.forEach(({key:e,value:t})=>pt(n,e,t)),E([o.entityList,o.entityID,"__entity"],n,e)}case dt.CDEEBEE_SET_ENTITY:return E([o.entityList,o.entityID],o.entity,e);case dt.CDEEBEE_RESET_ENTITY:{const t=e[o.entityList];return E([o.entityList,o.entityID],Dt(t[o.entityID]),e)}case dt.CDEEBEEE_DROP:return qt;case dt.CDEEBEEE_DROP_ELEMENT:return l([o.entityList,o.entityID],e);default:return e}}),e.requestManager=((e=Bt,t)=>{const n=t.type,o=t.payload;switch(n){case dt.CDEEBEE_REQUESTMANAGER_SET:return r({},e,{activeRequest:[...e.activeRequest,o]});case dt.CDEEBEE_REQUESTMANAGER_SHIFT:return r({},e,{activeRequest:f(1,1/0,e.activeRequest)});case dt.CDEEBEEE_UPDATE:return r({},e,{requestByApiUrl:r({},e.requestByApiUrl,{[o.api]:o.cleanResponse})});case dt.CDEEBEE_ERRORHANDLER_SET:return r({},e,{errorHandler:r({},e.errorHandler,{[o.api]:o.cleanResponse})});case dt.CHANGE_ROUTE:return St(e.activeRequest);default:return e}}),e.CdeebeeRequest=class{constructor(e,t){var i=this;o(this,"send",e=>(function(){var t=n(function*(t,n){const o=bt(i.requestObject,e),a=o.api,u=o.preUpdate,s=o.postUpdate,c=o.preError,f=o.postError,l=o.data,p=o.files,d=o.requestCancel,h=void 0===d||d,y=o.fileKey,E=void 0===y?i.options.fileKey:y,v=o.bodyKey,g=void 0===v?i.options.bodyKey:v,m=o.method,_=void 0===m?i.options.method:m,b=o.normalize,w=void 0===b?i.options.normalize:b,R=o.mergeStrategy,S=void 0===R?i.options.mergeStrategy:R,T=o.headers,C=void 0===T?i.options.header:T,A=o.responseKeyCode,D=void 0===A?i.options.responseKeyCode:A;try{const e=function(e){e=e||21;for(var t="",r=wr.getRandomValues(new Uint8Array(e));0<e--;)t+="_~getRandomVcryp0123456789bfhijklqsuvwxzABCDEFGHIJKLMNOPQSTUWXYZ"[63&r[e]];return t}();let o=JSON.stringify(r({},l,{requestID:e}));const i=mr.CancelToken.source();if(t({type:dt.CDEEBEE_REQUESTMANAGER_SET,payload:{nanoID:e,api:a,source:i,requestCancel:h}}),p){const e=new FormData;for(let t=0;t<p.length;t+=1)e.append(E,p[t]);e.append(g,o),o=e}const d=yield mr({url:a,method:_,headers:C,data:o});if(d)for(Rr=Object.assign({[e]:{response:d.data,requestApi:a}},Rr);Rr[br(n().requestManager.activeRequest,"[0].nanoID")];){const e=n().requestManager.activeRequest[0].nanoID,r=Rr[e],o=r.response,i=r.requestApi;delete Rr[e],t({type:dt.CDEEBEE_REQUESTMANAGER_SHIFT}),0===o[D]?(u&&u(d.data),t({type:dt.CDEEBEEE_UPDATE,payload:{response:w({response:o,cdeebee:n().cdeebee,mergeStrategy:S}),cleanResponse:o,api:i,mergeStrategy:S}}),s&&s(d.data)):(c&&c(d.data),t({type:dt.CDEEBEE_ERRORHANDLER_SET,payload:{api:i,cleanResponse:o}}),f&&f(d.data))}}catch(e){console.warn("@@makeRequest",e)}});return function(e,r){return t.apply(this,arguments)}})()),this.requestObject=e,this.options=r({fileKey:"files",bodyKey:"body",method:"POST",normalize:jt,mergeStrategy:vt.merge,responseKeyCode:"responseStatus",header:{"content-type":"application/json"}},t)}},e.cdeebeeTypes=dt,e.cdeebeeMergeStrategy=vt,e.cdeebeeActions=qr;var Br=e.helpers,Ir=e.cdeebee,Lr=e.requestManager,Pr=e.CdeebeeRequest,Ur=e.cdeebeeTypes,xr=e.cdeebeeMergeStrategy,Fr=e.cdeebeeActions;e.rewire$helpers=function(t){e.helpers=t},e.rewire$cdeebee=function(t){e.cdeebee=t},e.rewire$requestManager=function(t){e.requestManager=t},e.rewire$CdeebeeRequest=function(t){e.CdeebeeRequest=t},e.rewire$cdeebeeTypes=function(t){e.cdeebeeTypes=t},e.rewire$cdeebeeMergeStrategy=function(t){e.cdeebeeMergeStrategy=t},e.rewire$cdeebeeActions=function(t){e.cdeebeeActions=t},e.restore=function(){e.helpers=Br,e.cdeebee=Ir,e.requestManager=Lr,e.CdeebeeRequest=Pr,e.cdeebeeTypes=Ur,e.cdeebeeMergeStrategy=xr,e.cdeebeeActions=Fr},Object.defineProperty(e,"__esModule",{value:!0})});
